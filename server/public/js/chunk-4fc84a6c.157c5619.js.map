{"version":3,"sources":["webpack:///./src/pages/UserProfile/FolderListings.vue?8809","webpack:///src/pages/UserProfile/FolderListings.vue","webpack:///./src/pages/UserProfile/FolderListings.vue?ec7a","webpack:///./src/pages/UserProfile/FolderListings.vue","webpack:///./src/pages/UserProfile/FolderListings.vue?af73"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","post","i","key","threshold","model","value","callback","$$v","isActive","expression","ListingId","ListingData","DateAdded","CompanyName","ListingImage","Saved","Faiv","CompanyId","on","toggleDialog","updateFaiv","_v","_e","dialog","staticStyle","dialogm1","folder","FloderName","id","$event","preventDefault","savePostToFaivorit","staticRenderFns","data","components","PostCard","created","window","addEventListener","addPosts","getUserFaivorits","methods","api","bottomVisible","bottomOfPage","pageHeight","visible","CurrentPostId","$toast","warning","UserPosts","filter","watch","bottom","offset","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAOP,EAAIQ,GAAIR,EAAa,WAAE,SAASS,EAAKC,GAAG,OAAON,EAAG,SAAS,CAACO,IAAID,EAAEH,MAAM,CAAC,QAAU,CAC9PK,UAAW,IACX,aAAa,MAAM,WAAa,mBAAmBC,MAAM,CAACC,MAAOd,EAAY,SAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,SAASD,GAAKE,WAAW,aAAa,CAACd,EAAG,WAAW,CAACG,MAAM,CAAC,OAASE,EAAKU,UAAU,SAAWV,EAAKW,YAAY,SAAWX,EAAKY,UAAU,YAAcZ,EAAKa,YAAY,UAAYb,EAAKc,aAAa,MAAQd,EAAKe,MAAM,KAAOf,EAAKgB,KAAK,UAAYhB,EAAKiB,WAAWC,GAAG,CAAC,OAAS3B,EAAI4B,aAAa,aAAe5B,EAAI6B,eAAe,MAAK,GAAGzB,EAAG,QAAQ,CAAEJ,EAAU,OAAEI,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACN,EAAI8B,GAAG,uBAAuB9B,EAAI+B,MAAM,IAAI,GAAG3B,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,GAAG,YAAY,SAASM,MAAM,CAACC,MAAOd,EAAU,OAAEe,SAAS,SAAUC,GAAMhB,EAAIgC,OAAOhB,GAAKE,WAAW,WAAW,CAACd,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAI8B,GAAG,mBAAmB1B,EAAG,aAAaA,EAAG,cAAc,CAAC6B,YAAY,CAAC,OAAS,UAAU,CAAC7B,EAAG,gBAAgB,CAACG,MAAM,CAAC,OAAS,IAAIM,MAAM,CAACC,MAAOd,EAAY,SAAEe,SAAS,SAAUC,GAAMhB,EAAIkC,SAASlB,GAAKE,WAAW,aAAalB,EAAIQ,GAAIR,EAAW,SAAE,SAASmC,EAAOzB,GAAG,OAAON,EAAG,UAAU,CAACO,IAAID,EAAEH,MAAM,CAAC,MAAQ4B,EAAOC,WAAW,MAAQD,EAAOE,SAAQ,IAAI,GAAGjC,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,gBAAgB,KAAO,IAAIoB,GAAG,CAAC,MAAQ,SAASW,GAAQtC,EAAIgC,QAAS,KAAS,CAAChC,EAAI8B,GAAG,aAAa1B,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,gBAAgB,KAAO,IAAIoB,GAAG,CAAC,MAAQ,SAASW,GAAgC,OAAxBA,EAAOC,iBAAwBvC,EAAIwC,mBAAmBF,MAAW,CAACtC,EAAI8B,GAAG,aAAa,IAAI,IAAI,IAAI,IACz8CW,EAAkB,G,gDC8DtB,GACEC,KAAM,WAAR,OACA,aACA,YACA,UACA,SACA,WACA,UACA,WACA,kBAEEC,WAAY,CACVC,SAAJ,QAEEC,QAdF,WAcA,WACIC,OAAOC,iBAAiB,UAAU,WAChC,EAAN,4BAEI9C,KAAK+C,WACL/C,KAAKgD,oBAEPC,QAAS,CACPF,SADJ,WACA,WACMG,EAAN,KACA,mCACQ,OAAR,CACU,OAAV,YACU,SAAV,yBAGA,kBAAQ,IAAR,GACA,gEAGA,mBACQ,QAAR,WAGIC,cAjBJ,WAkBM,IAAN,qBACA,wCACA,wCACA,SACM,OAAOC,GAAgBC,EAAaC,GAEtC3B,aAxBJ,SAwBA,GACM3B,KAAK+B,QAAU/B,KAAK+B,OACpB/B,KAAKuD,cAAgB1C,GAEvBmC,iBA5BJ,WA4BA,WACME,EAAN,KACA,qCACA,kBACQ,EAAR,2BAEA,mBACQ,QAAR,gBAGIX,mBAtCJ,WAsCA,WAC2B,GAAjBvC,KAAKiC,UAAuC,GAAtBjC,KAAKuD,cAI/BL,EAAN,KACA,kCACQ,SAAR,cACQ,OAAR,qBAEA,kBACA,gBACU,EAAV,2CACU,EAAV,kBACA,YAAY,OAAZ,iCACA,UACU,EAAV,WACU,EAAV,gBACU,EAAV,cAGA,mBACQ,QAAR,eApBQlD,KAAKwD,OAAOC,QAAQ,oCAuBxB7B,WA/DJ,SA+DA,KACM5B,KAAK0D,UAAUC,QAAO,SAA5B,yCAGEC,MAAO,CACLC,OADJ,SACA,GACU,IACF7D,KAAK8D,QAAU,EACf9D,KAAK+C,eC7J0V,I,wBCQnWgB,EAAY,eACd,EACAjE,EACA0C,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E,2CCnBf","file":"js/chunk-4fc84a6c.157c5619.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"pt-10\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},_vm._l((_vm.UserPosts),function(post,i){return _c('v-lazy',{key:i,attrs:{\"options\":{\n          threshold: 0.5,\n        },\"min-height\":\"200\",\"transition\":\"fade-transition\"},model:{value:(_vm.isActive),callback:function ($$v) {_vm.isActive=$$v},expression:\"isActive\"}},[_c('PostCard',{attrs:{\"PostId\":post.ListingId,\"PostData\":post.ListingData,\"PostDate\":post.DateAdded,\"CompanyName\":post.CompanyName,\"PostImage\":post.ListingImage,\"Saved\":post.Saved,\"Faiv\":post.Faiv,\"CompanyId\":post.CompanyId},on:{\"toggle\":_vm.toggleDialog,\"UpdateMyFaiv\":_vm.updateFaiv}})],1)}),1),_c('v-col',[(_vm.bottom)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h1',{staticClass:\"no-more-listing \"},[_vm._v(\"No More Listing\")])]):_vm._e()],1)],1),_c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"400px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Select Folder\")]),_c('v-divider'),_c('v-card-text',{staticStyle:{\"height\":\"200px\"}},[_c('v-radio-group',{attrs:{\"column\":\"\"},model:{value:(_vm.dialogm1),callback:function ($$v) {_vm.dialogm1=$$v},expression:\"dialogm1\"}},_vm._l((_vm.Folders),function(folder,i){return _c('v-radio',{key:i,attrs:{\"label\":folder.FloderName,\"value\":folder.id}})}),1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.savePostToFaivorit($event)}}},[_vm._v(\" Save \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container class=\"pt-10\">\r\n    <v-row>\r\n      <v-col cols=\"12\">\r\n        <v-lazy\r\n          v-model=\"isActive\"\r\n          :options=\"{\r\n            threshold: 0.5,\r\n          }\"\r\n          min-height=\"200\"\r\n          transition=\"fade-transition\"\r\n          :key=\"i\"\r\n          v-for=\"(post, i) in UserPosts\"\r\n        >\r\n          <PostCard\r\n            :PostId=\"post.ListingId\"\r\n            :PostData=\"post.ListingData\"\r\n            :PostDate=\"post.DateAdded\"\r\n            :CompanyName=\"post.CompanyName\"\r\n            :PostImage=\"post.ListingImage\"\r\n            :Saved=\"post.Saved\"\r\n            :Faiv=\"post.Faiv\"\r\n            :CompanyId=\"post.CompanyId\"\r\n            @toggle=\"toggleDialog\"\r\n            @UpdateMyFaiv=\"updateFaiv\"\r\n          />\r\n        </v-lazy>\r\n      </v-col>\r\n      <v-col>\r\n        <v-col v-if=\"bottom\" cols=\"12\">\r\n          <h1 class=\"no-more-listing \">No More Listing</h1>\r\n        </v-col>\r\n      </v-col>\r\n    </v-row>\r\n    <v-dialog v-model=\"dialog\" scrollable max-width=\"400px\">\r\n      <v-card>\r\n        <v-card-title>Select Folder</v-card-title>\r\n        <v-divider></v-divider>\r\n        <v-card-text style=\"height: 200px;\">\r\n          <v-radio-group v-model=\"dialogm1\" column>\r\n            <v-radio\r\n              :key=\"i\"\r\n              v-for=\"(folder, i) in Folders\"\r\n              :label=\"folder.FloderName\"\r\n              :value=\"folder.id\"\r\n            ></v-radio>\r\n          </v-radio-group>\r\n        </v-card-text>\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\r\n            Close\r\n          </v-btn>\r\n          <v-btn color=\"blue darken-1\" text @click.prevent=\"savePostToFaivorit\">\r\n            Save\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport PostCard from \"@/components/Utility/PostCard\";\r\nimport api from \"../../services/api\";\r\nexport default {\r\n  data: () => ({\r\n    UserPosts: [],\r\n    isActive: false,\r\n    bottom: false,\r\n    offset: 0,\r\n    dialogm1: 0,\r\n    dialog: false,\r\n    Folders: [],\r\n    CurrentPostId: 0,\r\n  }),\r\n  components: {\r\n    PostCard,\r\n  },\r\n  created() {\r\n    window.addEventListener(\"scroll\", () => {\r\n      this.bottom = this.bottomVisible();\r\n    });\r\n    this.addPosts();\r\n    this.getUserFaivorits();\r\n  },\r\n  methods: {\r\n    addPosts() {\r\n      api\r\n        .get(\"/users/getUserFaivoritPosts\", {\r\n          params: {\r\n            offset: this.offset,\r\n            FolderId: this.$route.params.id,\r\n          },\r\n        })\r\n        .then((result) => {\r\n          this.UserPosts.push(...result.data.Refrence);\r\n          \r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    bottomVisible() {\r\n      const scrollY = window.scrollY + 2000;\r\n      const visible = document.documentElement.clientHeight;\r\n      const pageHeight = document.documentElement.scrollHeight;\r\n      const bottomOfPage = visible + scrollY >= pageHeight;\r\n      return bottomOfPage || pageHeight < visible;\r\n    },\r\n    toggleDialog(value) {\r\n      this.dialog = !this.dialog;\r\n      this.CurrentPostId = value;\r\n    },\r\n    getUserFaivorits() {\r\n      api\r\n        .get(\"/users/getUserFaivoritFolders\")\r\n        .then((result) => {\r\n          this.Folders = result.data.Refrence;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.data);\r\n        });\r\n    },\r\n    savePostToFaivorit() {\r\n      if (this.dialogm1 == 0 || this.CurrentPostId == 0) {\r\n        this.$toast.warning(\"يرجى تحديد الملف اولا قبل الحفظ\");\r\n        return;\r\n      }\r\n      api\r\n        .post(\"/users/SavePostToFaivorit\", {\r\n          FolderId: this.dialogm1,\r\n          PostId: this.CurrentPostId,\r\n        })\r\n        .then((result) => {\r\n          if (result.data.Status) {\r\n            this.$toast.success(\"تم حفظ العنصر في المفضلة\");\r\n            this.UserPosts.filter(\r\n              (p) => p.ListingId === this.CurrentPostId\r\n            )[0].Faiv = 0;\r\n            this.dialogm1 = 0;\r\n            this.CurrentPostId = 0;\r\n            this.dialog = false;\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.data);\r\n        });\r\n    },\r\n    updateFaiv(faiv, postId) {\r\n      this.UserPosts.filter((p) => p.ListingId === postId)[0].Faiv = faiv;\r\n    },\r\n  },\r\n  watch: {\r\n    bottom(bottom) {\r\n      if (bottom) {\r\n        this.offset += 5;\r\n        this.addPosts();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.load-progress {\r\n  width: 100% !important;\r\n  margin-bottom: 200px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderListings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderListings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FolderListings.vue?vue&type=template&id=d29af722&scoped=true&\"\nimport script from \"./FolderListings.vue?vue&type=script&lang=js&\"\nexport * from \"./FolderListings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FolderListings.vue?vue&type=style&index=0&id=d29af722&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d29af722\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FolderListings.vue?vue&type=style&index=0&id=d29af722&scoped=true&lang=css&\""],"sourceRoot":""}